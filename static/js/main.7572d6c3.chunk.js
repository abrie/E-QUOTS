(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{22:function(e){e.exports=JSON.parse('{"cards":[{"name":"Area Exterior to Airborne Isolation Rooms","pdf":"https://www.cdc.gov/infectioncontrol/pdf/QUOTS/Isolation-Area-AIIR-Exterior-P.pdf","number":"7","observable":"Room","title":"Isolation: Observation of Area Exterior to Airborne Infection Isolation Rooms","instructions":"If there are any patients requiring Airborne Infection Isolation on unit, observe area outside of each isolation room. Observe each practice and record the observation.","sections":[{"header":"Isolation room: Observation Categories","choiceSet":["Yes","No"],"questions":[{"text":"Is an Airborne Infection Isolation sign at the patient\'s door?","choices":["Yes","No"]},{"text":"Is the door to the room closed?","choices":["Yes","No"]},{"text":"Does a manometer or other measurement mechanism indicate negative pressure in the room?","choices":["Yes","No"]},{"text":"Are appropriate respirators, (N-95) in multiple sizes and/or charged, powered air purifying respirators (PAPR), available?","choices":["Yes","No"]},{"text":"Are respirators stored outside the room or in an anteroom?","choices":["Yes","No"]}]}]},{"name":"Area Exterior to Isolation Rooms","pdf":"https://www.cdc.gov/infectioncontrol/pdf/QUOTS/Isolation-Area-Contact-Isolation-Exterior-P.pdf","number":6,"observable":"Room","title":"Isolation: Observation of Area Exterior to Contact Isolation Rooms","instructions":"Instructions: Observe areas outside of isolation rooms. Observe each practice and record the observation. Disregard not applicable categories. For example, cover gowns should be outside contact precautions rooms, but may not be required outside a room with airborne isolation precautions only.","sections":[{"header":"Isolation room: Observation Categories","choiceSet":["Yes","No","N/A"],"questions":[{"text":"Is an isolation sign at the patient\u2019s door?","choices":["Yes","No"]},{"text":"Are gloves available outside of each patient room or treatment area?","choices":["Yes","No","N/A"]},{"text":"Are cover gowns available near each patient room or treatment area?","choices":["Yes","No"]},{"text":"Is other PPE for standard precautions (e.g., eye protection, face masks) available near each patient room or treatment area?","choices":["Yes","No","N/A"]},{"text":"Are surgical face masks or face shields or N95 respirators available near patient room?","choices":["Yes","No","N/A"]},{"text":"Is dedicated patient equipment, such as stethoscopes or blood pressure cuffs, available?","choices":["Yes","No"]}]}]},{"name":"Central Catheters","pdf":"https://www.cdc.gov/infectioncontrol/pdf/QUOTS/Central-Venous-Catheter-Observation-P.pdf","number":1,"observable":"Patient","title":"Central Venous Catheter: Observation","instructions":"Observe patients with central lines in place. Observe each practice and record the observation.","sections":[{"header":"Central catheter: Observation Categories","choiceSet":["Yes","No","N/A"],"questions":[{"text":"Is the dressing adhesive intact over the catheter insertion site and drainage contained? (This question is for all dressings, including chlorhexidine gluconate -CHG dressings)","choices":["Yes","No"]},{"text":"Is the dressing dated and timed according to facility policy?","choices":["Yes","No"]},{"text":"Is the catheter secured to reduce movement or tension?","choices":["Yes","No"]},{"text":"Are the administration tubing sets labeled with the start date and time?","choices":["Yes","No"]},{"text":"If the tubing set is labeled, is it within the specified date and time range for use?","choices":["Yes","No","N/A"]},{"text":"Are all inactive ports capped according to facility policy?","choices":["Yes","No","N/A"]}]}]},{"name":"Centralized Medication Area","pdf":"https://www.cdc.gov/infectioncontrol/pdf/QUOTS/Injection-Safety-Central-Med-Area-P.pdf","number":10,"observable":"Area","title":"Injection Safety: Observation of Centralized Medication Area","instructions":"Observe medication preparation area. For each category, record the observation. Observe each practice below and answer Yes, No, or N/A.","sections":[{"header":"Medication preparation room: Observation Categories","choiceSet":["Yes","No","N/A"],"questions":[{"text":"If multi-dose injectable medications are present, is the medication container maintained in a dedicated medication preparation space?","choices":["Yes","No","N/A"]},{"text":"Is the medication preparation area free of opened single dose vials or opened single use containers?","choices":["Yes","No"]},{"text":"If open multi-dose vials are present, are they dated and within the Beyond Use Date (BUD) and the manufacturer\u2019s expiration period?","choices":["Yes","No","N/A"]},{"text":"Medications are prepared in a clean area free from contamination or contact with blood, body fluids, or contaminated equipment.","choices":["Yes","No"]},{"text":"Are splash guards installed at sinks that are located close to medication prep areas?","choices":["Yes","No"]},{"text":"Are sinks readily accessible to healthcare providers?","choices":["Yes","No"]},{"text":"Are hand washing supplies, such as soap, and paper towels, available?","choices":["Yes","No"]},{"text":"Are alcohol dispensers readily available, filled, and functioning properly?","choices":["Yes","No"]}]}]},{"name":"Clean Area","pdf":"https://www.cdc.gov/infectioncontrol/pdf/QUOTS/Reprocessing-Clean-Area-Disinfection-Sterilization-P.pdf","number":16,"observable":"Area","title":"Reprocessing: High Level Disinfection and Liquid Sterilization Process\u2013 \\"Clean\\" Area","instructions":"Observe area where instruments are reprocessed. For each category, record the observation.","sections":[{"header":"Equipment Reprocessing \u2013 Clean Area","choiceSet":["Yes","No","N/A"],"questions":[{"text":"Are disinfected instruments stored in a manner to protect them from damage and contamination?","choices":["Yes","No"]},{"text":"Is each piece of equipment labeled with the day of most recent disinfection?","choices":["Yes","No"]},{"text":"Are scopes, if present, stored in a dedicated area and hung vertically to facilitate drying?","choices":["Yes","No","N/A"]}]},{"header":"Is a log of reprocessed items (paper-based or electronic) maintained that documents:","choiceSet":["Yes","No"],"questions":[{"text":"The instrument reprocessed and date,","choices":["Yes","No"]},{"text":"The technician who performed the reprocessing, and","choices":["Yes","No"]},{"text":"An indication of whether or not the reprocessing run passed or failed any necessary chemical or mechanical tests.","choices":["Yes","No"]}]}]},{"name":"Cough Courtesy: Waiting-Room","pdf":"https://www.cdc.gov/infectioncontrol/pdf/QUOTS/Cough-Courtesy-Waiting-Room-P.pdf","number":20,"observable":"Room","title":"Cough Courtesy: Waiting Room","instructions":" Observe the ambulatory care point of care testing area. For each category, record the observation.","sections":[{"header":"Ambulatory Waiting Room: Observation Categories","choiceSet":["Yes","No"],"questions":[{"text":"As patients first register for care, is there visible signage instructing them to alert the staff of a respiratory infection?","choices":["Yes","No"]},{"text":"Are face masks and tissues readily available for patients and visitors with respiratory or flu-like symptoms?","choices":["Yes","No"]},{"text":"Are hand hygiene supplies readily available to visitors in the waiting room?","choices":["Yes","No"]},{"text":"Are trash receptacles readily available to visitors in the waiting room?","choices":["Yes","No"]}]}]},{"name":"Dirty Area","pdf":"https://www.cdc.gov/infectioncontrol/pdf/QUOTS/Reprocessing-Dirty-Area-Disinfection-Sterilization-P.pdf","number":15,"observable":"Area","title":"Reprocessing: High Level Disinfection and Liquid Sterilization Process\u2013 \\"Dirty\\" Area Using Chemical Soak Method","instructions":"Observe area where instruments are reprocessed by a soaking method using a liquid chemical germicide. For each category, record the observation.","sections":[{"header":"Equipment Reprocessing","choiceSet":["Yes","No"],"questions":[{"text":"Is the preprocessing \\"dirty\\" area separate from the clean area?","choices":["Yes","No"]},{"text":"Is adequate space allotted for device inspection?","choices":["Yes","No"]},{"text":"Are signs visible that include the reprocessing steps and recording requirements?","choices":["Yes","No"]},{"text":"Is a traffic flow pattern from \\"soiled\\" to \\"clean\\" clearly delineated in the area in which technicians progress through their reprocessing tasks?","choices":["Yes","No"]},{"text":"Is there a readily-available supply of personal protective equipment, including gloves, cover gowns, eye and face protection?","choices":["Yes","No"]},{"text":"Is an eyewash station available within a 10 second travel distance from chemicals being used?","choices":["Yes","No"]},{"text":"Is weekly eye wash station maintenance documented, including flushing and temperature validation (60\xb0 F to 100\xb0 F, or 16\xb0 C to 38 \xb0C)?","choices":["Yes","No"]}]},{"header":"Equipment Reprocessing \u2013 Dirty Area","choiceSet":["Yes","No"],"questions":[{"text":"Are chemical potency test strips stored appropriately and labeled with \\"opened\\" and \\"use by\\" dates?","choices":["Yes","No"]},{"text":"Are opened liquid chemical containers labeled with the date opened and the use-by date?","choices":["Yes","No"]},{"text":"Do log books show test strip quality control recording?","choices":["Yes","No"]},{"text":"Do log books show results of liquid chemical germicide potency testing?","choices":["Yes","No"]},{"text":"Are spill kits readily available?","choices":["Yes","No"]},{"text":"Are safety data sheets (SDS, formerly known as MSDS) available for the chemicals used in the area?","choices":["Yes","No"]},{"text":"Are instrument instructions for use (IFUs) readily available for each equipment item reprocessed in the area?","choices":["Yes","No"]}]}]},{"name":"Hand Hygiene","pdf":"https://www.cdc.gov/infectioncontrol/pdf/QUOTS/Standard-Precautions-Hand-Hygiene-Supplies-P.pdf","number":4,"observable":"Room","title":"Standard Precautions: Observation Categories","instructions":"Observe patient care areas or areas outside of patient rooms. For each category, record the observation.","sections":[{"header":"Standard Precautions: Observation Categories","choiceSet":["Yes","No"],"questions":[{"text":"Are functioning sinks readily accessible in the patient care area?","choices":["Yes","No"]},{"text":"Are all handwashing supplies, such as soap and paper towels, available?","choices":["Yes","No"]},{"text":"Is the sink area clean and dry?","choices":["Yes","No"]},{"text":"Are any clean patient care supplies on the counter within a splash-zone of the sink?","choices":["Yes","No"]},{"text":"Are signs promoting hand hygiene displayed in the area?","choices":["Yes","No"]},{"text":"Are alcohol dispensers readily accessible?","choices":["Yes","No"]},{"text":"Are alcohol dispensers filled and working properly?","choices":["Yes","No"]}]}]},{"name":"Isolettes / bassinets","pdf":"https://www.cdc.gov/infectioncontrol/pdf/QUOTS/Neonatal-Isolettes-Basinets-P.pdf","number":12,"observable":"Baby","title":"Neonatal Environment: Observation of Isolettes/bassinets","instructions":"Observe neonatal patients isolette/bassinet areas. Observe each practice and record the observation.","sections":[{"header":"Infant isolette/bassinet: Observation Categories","choiceSet":["Yes","No"],"questions":[{"text":"Is the patient care area free from clutter?","choices":["Yes","No"]},{"text":"Are gloves, gowns, masks, and face shields, readily available near each bed space?","choices":["Yes","No"]},{"text":"Are all infant isolettes/bassinets at least 3 feet from the nearest sink?","choices":["Yes","No"]},{"text":"Alcohol-based hand rub is available at the point of care.","choices":["Yes","No"]},{"text":"Hands-free handwashing sinks are within 20 feet of each bed space.","choices":["Yes","No"]}]}]},{"name":"Needlestick Prevention and Care of Laundry","pdf":"https://www.cdc.gov/infectioncontrol/pdf/QUOTS/Standard-Precautions-Needlestick-Laundry-P.pdf","number":9,"observable":"Room/Area","title":"Standard Precautions: Observation of Needlestick Prevention and Care of Laundry","instructions":"Observe patient care areas or areas outside of patient rooms. For each category, record the observation.","sections":[{"header":"Standard Precautions: Observation Categories","choiceSet":["Yes","No"],"questions":[{"text":"Are sharps containers available?","choices":["Yes","No"]},{"text":"Are sharps containers properly secured and not full?","choices":["Yes","No"]},{"text":"Are sharps containers positioned at 52\\" to 56\\" above floor?","choices":["Yes","No"]},{"text":"Are hampers for soiled laundry labeled or color-coded?","choices":["Yes","No"]},{"text":"Are clean linen supplies spatially separated from soiled areas or waste and covered or contained within a cabinet?","choices":["Yes","No"]}]}]},{"name":"Neonatal Central Catheters","pdf":"https://www.cdc.gov/infectioncontrol/pdf/QUOTS/Neonatal-Central-Catheter-P.pdf","number":12,"observable":"Baby","title":"Neonatal Central Catheter: Observation","instructions":"Observe neonatal patients with central lines in place. Observe each practice and record the observation.","sections":[{"header":"Central catheter: Observation Categories","choiceSet":["Yes","No"],"questions":[{"text":"Is the dressing adhesive intact over the catheter insertion site and drainage contained?","choices":["Yes","No"]},{"text":"Is the dressing dated and timed according to facility policy?","choices":["Yes","No"]},{"text":"Is the catheter secured to reduce movement or tension?","choices":["Yes","No"]},{"text":"Are hampers for soiled laundry labeled or color-coded?","choices":["Yes","No"]},{"text":"Are the administration tubing sets labeled and within the date range according to facility policy?","choices":["Yes","No"]}]}]},{"name":"Nutritional Preparation Areas","pdf":"https://www.cdc.gov/infectioncontrol/pdf/QUOTS/Neonatal-Nutritional-Prep-Area-P.pdf","number":14,"observable":"Baby","title":"Neonatal Environment: Observation of Nutritional Preparation Area","instructions":"Observe nutritional preparation area. Observe each practice below and answer Yes, No, or N/A.","sections":[{"header":"Nutritional preparation area: Observation Categories","choiceSet":["Yes","No","N/A"],"questions":[{"text":"Are surfaces in the nutrition preparation area visibly clean and free from clutter?","choices":["Yes","No","N/A"]},{"text":"If powdered formula is used, is sterile water provided for dilution or reconstitution?","choices":["Yes","No","N/A"]},{"text":"Thermometers in the breast milk storage refrigerator and freezer are easy to visualize and are within the range noted below?","choices":["Yes","No","N/A"]},{"text":"Are the breast milk storage refrigerator and freezer temperatures monitored and recorded every 4 hours?","choices":["Yes","No","N/A"]},{"text":"Is stored breast milk labeled with name, date, and time of pumping?","choices":["Yes","No","N/A"]},{"text":"Is breast milk stored in a manner that prevents misadministration (e.g., each mother\u2019s milk is in a dedicated tray?)","choices":["Yes","No","N/A"]},{"text":"Is the refrigerator/freezer in which breast milk is stored clean and dedicated to patient nutrition supplies only?","choices":["Yes","No","N/A"]},{"text":"Are waterless warmers used to thaw and warm breast milk (i.e., there is no evidence of thawing by immersion in tap water)?","choices":["Yes","No","N/A"]},{"text":"Are ready-for-use breast pumps clean, labeled as clean, and stored separately from breast pumps that have not been cleaned?","choices":["Yes","No","N/A"]}]}]},{"name":"Personal Protective Equipment (PPE) Supply Provision","pdf":"https://www.cdc.gov/infectioncontrol/pdf/QUOTS/Standard-Precautions-PPE-Provision-P.pdf","number":5,"observable":"Room","title":"Standard Precautions: Observation of Personal Protective Equipment Provision","instructions":"Observe patient care areas or areas outside of patient rooms. For each category, record the observation.","sections":[{"header":"Standard Precautions: Observation Categories","choiceSet":["Yes","No"],"questions":[{"text":"Are gloves readily available outside each patient room or any point of care?","choices":["Yes","No"]},{"text":"Are cover gowns readily available near each patient room or point of care?","choices":["Yes","No"]},{"text":"Is eye protection (face shields or goggles) readily available near each patient room or point of care?","choices":["Yes","No"]},{"text":"Are face masks readily available near each patient room or point of care?","choices":["Yes","No"]},{"text":"Are alcohol dispensers readily accessible and functioning?","choices":["Yes","No"]}]}]},{"name":"Point of Care Testing","pdf":"https://www.cdc.gov/infectioncontrol/pdf/QUOTS/Injection-Safety-Point-of-Care-Testing-P.pdf","number":22,"observable":"Room","title":"Injection Safety: Point of Care Testing","instructions":"Observe the ambulatory care point of care testing area. For each category, record the observation.","sections":[{"header":"Patient Care Area: Observation Categories","choiceSet":["Yes","No","N/A"],"questions":[{"text":"Are sharps containers properly secured and not full?","choices":["Yes","No"]},{"text":"Are sharps containers available at the point of use?","choices":["Yes","No"]},{"text":"Are cleaning and disinfection supplies for examination tables and test surfaces readily available?","choices":["Yes","No"]},{"text":"Is a new single-use auto-disabling lancing device used for each patient?","choices":["Yes","No","N/A"]},{"text":"Are all point of care testing devices being disinfected after each use with an EPA-registered product that is consistent with manufacturer instructions for use?","choices":["Yes","No"]},{"text":"Is the required personal protective equipment for disinfectant use readily available?","choices":["Yes","No"]}]}]},{"name":"Portable Medication Systems","pdf":"https://www.cdc.gov/infectioncontrol/pdf/QUOTS/Injection-Safety-Portable-Med-System-P.pdf","number":11,"observable":"Cart","title":"Injection Safety: Observation of Portable Medication Systems","instructions":"Observe three portable medication carts. For each category, record the observation as Yes, No, or N/A.","sections":[{"header":"Medication cart: Observation Categories","choiceSet":["Yes","No","N/A"],"questions":[{"text":"If multi-dose injectable medications are present are they maintained in a dedicated medication prep space?","choices":["Yes","No","N/A"]},{"text":"Are alcohol dispensers readily accessible, filled, and functioning properly?","choices":["Yes","No"]},{"text":"Is the medication cart free of opened single dose vials or opened single use containers?","choices":["Yes","No"]},{"text":"If open multi-dose vials are present, are they dated and within the Beyond Use Date (BUD) and the manufacturer\u2019s expiration period?","choices":["Yes","No","N/A"]},{"text":"Are safety syringes available?","choices":["Yes","No"]},{"text":"Are sharps containers available, secured, and not full?","choices":["Yes","No"]}]}]},{"name":"Urinary Catheters","pdf":"https://www.cdc.gov/infectioncontrol/pdf/QUOTS/Urinary-Catheter-Observation-P.pdf","number":2,"observable":"Patient","title":"Urinary Catheter: Observation","instructions":"Observe patients with urinary catheters in place. Observe each practice and record the observation.","sections":[{"header":"Urinary catheter: Observation Categories","choiceSet":["Yes","No"],"questions":[{"text":"Is the catheter properly secured to the patient?","choices":["Yes","No"]},{"text":"Is there unobstructed flow from the catheter into the bag?","choices":["Yes","No"]},{"text":"Is the collection bag _below_ the level of the bladder?","choices":["Yes","No"]},{"text":"Are the bag and tubing off of the floor?","choices":["Yes","No"]}]}]},{"name":"Vaccine Storage Areas","pdf":"https://www.cdc.gov/infectioncontrol/pdf/QUOTS/Environment-of-Care-Vaccine-Storage-Area-P.pdf","number":21,"observable":"Area","title":"Environment of Care: Vaccine Storage Areas","instructions":"Observe vaccine storage area. For each category, record the observation.","sections":[{"header":"Vaccine Storage Area: Observation Categories","choiceSet":["Yes","No"],"questions":[{"text":"Are vaccine storage refrigerator and freezer temperatures within the appropriate ranges (Refrigerator: 2\xb0 C to 8\xb0 C; 36\xb0 F to 46\xb0 Freezer: -50\xb0 C to -15\xb0 C; -58\xb0 F to +5\xb0 F)?","choices":["Yes","No"]},{"text":"Are vaccine storage refrigerator and freezer temperatures recorded twice daily?","choices":["Yes","No"]},{"text":"Are safeguards, such as self-closing hinges and door alarms, in place to ensure that the refrigerator/freezer doors remain closed.","choices":["Yes","No"]},{"text":"Are refrigerator/freezer door gaskets clean?","choices":["Yes","No"]},{"text":"Are vaccines stored in the center of the refrigerator and freezer spaces, in the original packaging, and inside designated storage trays?","choices":["Yes","No"]},{"text":"Are drinks and food absent from the refrigerator/freezer?","choices":["Yes","No"]}]}]},{"name":"Ventilators","pdf":"https://www.cdc.gov/infectioncontrol/pdf/QUOTS/Ventilator-Observation-P.pdf","number":3,"observable":"Patient","title":"Ventilator: Observation","instructions":"Observe patients on ventilators. For each category, record the observation.","sections":[{"header":"Ventilator: Observation Categories","choiceSet":["Yes","No"],"questions":[{"text":"Is the head of the bed elevated >30 degrees?","choices":["Yes","No"]},{"text":"Is the ventilator tubing free of excessive condensation?","choices":["Yes","No"]},{"text":"Are supplies needed for oral care readily available?","choices":["Yes","No"]}]}]},{"name":"Visitor Areas","pdf":"https://www.cdc.gov/infectioncontrol/pdf/QUOTS/Visitor-Area-Observation-P.pdf","number":15,"observable":"Area","title":"Observation of Visitor Area","instructions":"Observe visitor area. Observe each practice below and answer Yes, No, or N/A.","sections":[{"header":"Visitor area: Observation Categories","choiceSet":["Yes","No","N/A"],"questions":[{"text":"Are hand hygiene supplies readily accessible by visitors in the waiting area?","choices":["Yes","No","N/A"]},{"text":"Are face masks readily available?","choices":["Yes","No","N/A"]},{"text":"Is there visible signage that clearly states that if visitors are ill, they should report to the healthcare team?","choices":["Yes","No","N/A"]},{"text":"Is there visible signage that clearly states what, if any, visitor (children or otherwise) restrictions are in place?","choices":["Yes","No","N/A"]}]}]}]}')},23:function(e,t,a){e.exports=a(55)},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=a(20),i=a.n(r),s=(a(28),a(8)),c=a(3),l=a(4),d=(a(29),function(){return n.a.createElement("div",{className:"landing"},n.a.createElement("h1",{className:"title"},"Infection Control"),n.a.createElement("p",null,"Welcome to this implementation of the CDC's"," ",n.a.createElement("a",{href:"https://www.cdc.gov/infectioncontrol/tools/quots.html"},"Quick Check Tools (QUOTS)"),"."),n.a.createElement("p",null,"Use this tool to measure and encourage best practices in clinical settings. It will help limit the spread of infectious agents."),n.a.createElement("p",null,"To get started, select a card from the header menu above."),n.a.createElement("p",null,"For technical information, see the\xa0",n.a.createElement("a",{href:"https://github.com/abrie/e-quots"},"source code on Github.")))});function h(e){e.card;var t=e.ledger;return Object.values(t).reduce((function(e,t){return void 0===e[t]?e[t]=1:e[t]=e[t]+1,e}),{})}a(30);var u=n.a.createContext(null),p=function(e){var t=e.card,a=e.ledger,r=Object(o.useContext)(u);return n.a.createElement("div",{className:"observable"},n.a.createElement("div",{className:"observableLabel"},t.observable),n.a.createElement("div",{className:"observableInput"},n.a.createElement("input",{type:"text",name:"observable",value:a.observable,onChange:r})))},f=function(e){var t=e.card,a=e.ledger;return t.sections.map((function(e,t){return n.a.createElement(b,{key:t,section:e,ledger:a})}))},m=function(e){var t=e.card,a=e.ledger,o=t.sections[0].choiceSet,r=h({card:t,ledger:a});return n.a.createElement("div",{className:"total"},n.a.createElement("div",{className:"totalLabel"},"Total"),n.a.createElement("div",{className:"totalChoices","data-count":o.length},o.map((function(e,t){return n.a.createElement("div",{className:"totalChoice",key:t},r[e])}))))},b=function(e){var t=e.section,a=e.ledger;return n.a.createElement("div",{className:"section"},n.a.createElement("div",{className:"sectionHeader"},t.header),n.a.createElement("div",{className:"sectionQuestions"},n.a.createElement(v,{section:t,ledger:a})))},v=function(e){var t=e.section,a=e.ledger;return t.questions.map((function(e,o){return n.a.createElement(g,{key:o,question:e,choiceCount:t.choiceSet.length,ledger:a})}))},g=function(e){var t=e.question,a=e.choiceCount,o=e.ledger;return n.a.createElement("div",{className:"question"},n.a.createElement("div",{className:"questionText"}," ",t.text),n.a.createElement("div",{className:"questionChoices","data-count":a},n.a.createElement(N,{question:t,ledger:o})))},N=function(e){var t=e.question,a=e.ledger,r=Object(o.useContext)(u);return t.choices.map((function(e,o){var i="".concat(t.id,"-").concat(e);return n.a.createElement("div",{className:"questionChoice",key:o},n.a.createElement("input",{type:"radio",id:i,name:t.id,value:e,checked:a[t.id]===e,onChange:r}),n.a.createElement("label",{htmlFor:i},e))}))},y=function(e){var t=e.card;return n.a.createElement("div",{className:"instructions"},t.instructions)},w=function(e){var t=e.card;return n.a.createElement("div",{className:"reference"},n.a.createElement("a",{href:t.href},"Source PDF"))},x=function(e){var t=e.card;return n.a.createElement("div",{className:"title"},n.a.createElement("div",{className:"titleText"},t.title),n.a.createElement("div",{className:"titleNumber"},t.number))},A=function(e){var t=e.state,a=e.onChange;if(!t)return n.a.createElement("div",{className:"card"},n.a.createElement(d,null));var o=t.card,r=t.ledger;return n.a.createElement("div",{className:"card"},n.a.createElement(u.Provider,{value:a},n.a.createElement(x,{card:o}),n.a.createElement(y,{card:o}),n.a.createElement(p,{card:o,ledger:r}),n.a.createElement(f,{card:o,ledger:r}),n.a.createElement(m,{card:o,ledger:r}),n.a.createElement(w,{card:o})))},Y=a(6),O=a(7),C=a.n(O);function E(e){var t=e.card,a=e.date,o=e.extension,n=t.name.replace(/ /gi,"-"),r=a.getFullYear(),i="".concat(a.getMonth()+1),s=1===i.length?"0".concat(i):i,c="".concat(a.getDate()),l=1===c.length?"0".concat(c):c;return"equots-".concat(r,"-").concat(s,"-").concat(l,"_").concat(n,".").concat(o)}function S(e){var t=e.card,a=e.ledger,o=E({card:t,date:new Date,extension:"csv"});return"\nSubject: QUOTS: ".concat(t.name,"\nX-Unsent: 1\nContent-Type: multipart/mixed; boundary=--boundary_text_string\n\nSee below for a copy of inspection results:\n\n----boundary_text_string\nContent-Type: text/html; charset=UTF-8\n\n").concat(function(e){var t=e.card,a=e.ledger,o=C.a.compile("\n  <html>\n  <head>\n    <style> td { border: 1px solid #444 } </style>\n  </head>\n  <body>\n  <h1>\n  {{card.observable }} : {{ledger.observable}}\n  </h1>\n  <table>\n  <thead>\n  <tr>\n  {{#each totalChoices}}\n  <th>\n  {{totalLabel .}}\n  </th>\n  {{/each}}\n  </tr>\n  </thead>\n  <tbody>\n  <tr>\n  {{#each totalChoices}}\n  <td>\n  {{totalValue .}}\n  </td>\n  {{/each}}\n  </tr>\n  </tbody>\n  </table>\n  {{#each card.sections}}\n  <table>\n  <thead>\n  <tr>\n    <th>{{header}}</th>\n    <th>Response</th>\n  </tr>\n  </thead>\n  <tbody>\n  {{#each questions}}\n  <tr>\n    <td>{{text}}</td>\n    <td>{{response id}}</td>\n  </tr>\n  {{/each}}\n  </tbody>\n  </table>\n  {{/each}}\n  </body>\n  </html>\n  "),n=[].concat(Object(Y.a)(t.sections[0].choiceSet),[""]),r=h({card:t,ledger:a});return C.a.registerHelper("totalValue",(function(e){var t=r[e];switch(t){case void 0:return 0;default:return t}})),C.a.registerHelper("response",(function(e){return a[e]})),C.a.registerHelper("totalLabel",(function(e){switch(e){case"":return"Unanswered";default:return e}})),o({card:t,ledger:a,totalChoices:n})}({card:t,ledger:a}),"\n\n----boundary_text_string\nContent-Type: text/csv; charset=UTF-8; name=").concat(o,"\nContent-Disposition: attachment\n\n").concat(function(e){var t=e.card,a=e.ledger,o=t.sections.reduce((function(e,t){return t.questions.reduce((function(e,t){return[].concat(Object(Y.a)(e),['"'.concat(t.text,'"')])}),e)}),[]),n=t.sections.reduce((function(e,t){return t.questions.reduce((function(e,t){return[].concat(Object(Y.a)(e),[a[t.id]])}),e)}),[]);return[o.join(","),n.join(",")].join("\n")}({card:t,ledger:a}),"\n\n----boundary_text_string--\n")}var I=a(11),P=a.n(I),k=a(21),q="".concat(99999*Math.random());function j(){return(j=Object(k.a)(P.a.mark((function e(){var t,a,o=arguments;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",a=o.length>1&&void 0!==o[1]?o[1]:{},e.abrupt("return",fetch(t,{method:"POST",mode:"no-cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(a)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){(function(){return j.apply(this,arguments)})("https://goeieware.ca/m",Object(c.a)({},e,{appId:"equots",sessionId:q})).catch((function(e){console.error(e)}))}window.addEventListener("beforeunload",(function(){T({action:"departed"})}));a(53);var U=function(e){var t=e.state,a=e.canRestore,r=e.doReset,i=e.doRestore,s=Object(o.useState)(!1),c=Object(l.a)(s,2),d=c[0],h=c[1];Object(o.useEffect)((function(){if(t){var e=t.ledger,a=Object.values(e).some((function(e){return e}));h(a)}else h(!1)}),[t]);var u=function(e){var a=t.card,o=t.ledger,n=E({card:a,date:new Date,extension:"eml"}),r=S({card:a,ledger:o});T({action:"export_eml"}),function(e){var t=e.data,a=e.filename,o=e.type,n=new Blob([t],{type:o});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(n,a);else{var r=window.document.createElement("a");r.href=window.URL.createObjectURL(n),r.download=a,document.body.appendChild(r),r.click(),document.body.removeChild(r)}}({data:r,filename:n,type:"text/plain"})},p=function(e){T({action:"export_print"}),window.print()},f=function(){return n.a.createElement("div",{className:"controls"},n.a.createElement("button",{disabled:!0,onClick:u},"Email"),n.a.createElement("button",{disabled:!0,onClick:p},"Print"),n.a.createElement("button",{className:"normal",onClick:function(){return i()}},"Undo"))},m=function(){return n.a.createElement("div",{className:"controls"},n.a.createElement("button",{disabled:!1,className:"normal",onClick:u},"Email"),n.a.createElement("button",{disabled:!1,className:"normal",onClick:p},"Print"),n.a.createElement("button",{disabled:!1,className:"warning",onClick:function(){return r()}},"Reset"))},b=function(){return n.a.createElement("div",{className:"controls"},n.a.createElement("button",{disabled:!0,onClick:u},"Email"),n.a.createElement("button",{disabled:!0,onClick:p},"Print"),n.a.createElement("button",{disabled:!0,onClick:function(){return r()}},"Clear"))};return a?n.a.createElement(f,null):d?n.a.createElement(m,null):n.a.createElement(b,null)},R=function(e){var t=e.cards,a=e.onChanged,r=Object(o.useState)("none"),i=Object(l.a)(r,2),s=i[0],c=i[1];Object(o.useEffect)((function(){var e=t.find((function(e){return"".concat(e.name)===s}));a(e||null)}),[t,s,a]);var d=function(e){var t=e.currentTarget.value;c(t)},h=function(e){var t=e.cards;return n.a.createElement("select",{value:s,onChange:d},n.a.createElement("option",{value:"none"},"Select a card"),n.a.createElement(u,{cards:t}))},u=function(e){return e.cards.map((function(e,t){return n.a.createElement("option",{key:t,value:e.name},e.name)}))};return t?n.a.createElement(h,{cards:t}):n.a.createElement("div",null,"no cards")},F=a(22);function D(e){var t=JSON.parse(JSON.stringify(e));return t.sections.forEach((function(e){var t;e.id=(t=e.header,Array.from(t).map((function(e){return e.toLowerCase()})).filter((function(e){return e>="a"&&e<="z"})).join("")),e.questions.forEach((function(e){e.id=Array.from(e.text).map((function(e){return e.toLowerCase()})).filter((function(e){return e>="a"&&e<="z"})).join("")}))})),t}function z(e){var t=D(e);return{card:t,ledger:function(e){var t={};return e.sections.forEach((function(e){e.questions.forEach((function(e){t[e.id]=""}))})),t.observable="",t}(t)}}a(54);function Q(){var e=Object(o.useState)(null),t=Object(l.a)(e,2),a=t[0],r=t[1],i=Object(o.useReducer)((function(e,t){switch(t.type){case"change":var a=t.payload,o=a.name,n=a.value,r=Object(c.a)({},e.ledger,Object(s.a)({},o,n)),i=Object(c.a)({},e.card);return T({action:"ledger_change",card:i.name,name:o,value:n}),{card:i,ledger:r,cache:null};case"initialize":var l=z(t.payload.template),d=l.card,h=l.ledger;return T({action:"template_load",card:d.name}),{card:d,ledger:h,cache:null};case"reset":var u=t.payload.template,p=Object(c.a)({},e.ledger),f=z(u),m=f.card,b=f.ledger;return T({action:"ledger_reset",card:m.name}),{card:m,ledger:b,cache:p};case"undo":var v=Object(c.a)({},e.card),g=Object(c.a)({},e.cache);return T({action:"ledger_undoreset",card:v.name}),{card:v,ledger:g,cache:null};case"null":return null;default:return void console.error('Unhandled reducer action.type: "'.concat(t.type,'". Full action object is:'),t)}}),null),d=Object(l.a)(i,2),h=d[0],u=d[1];return Object(o.useEffect)((function(){T({action:"arrived"})}),[]),Object(o.useEffect)((function(){u(a?{type:"initialize",payload:{template:a}}:{type:"null"})}),[a]),n.a.createElement("div",{className:"app"},n.a.createElement("div",{className:"header"},n.a.createElement(R,{cards:F.cards,onChanged:r}),n.a.createElement(U,{state:h,canRestore:h&&null!==h.cache,doReset:function(){u({type:"reset",payload:{template:a}})},doRestore:function(){u({type:"undo"})}})),n.a.createElement(A,{state:h,onChange:function(e){var t=e.currentTarget,a=t.name,o=t.value;u({type:"change",payload:{name:a,value:o}})}}))}var L=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(n.a.createElement(Q,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/e-quots",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/e-quots","/service-worker.js");L?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var o=a.headers.get("content-type");404===a.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):_(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):_(t,e)}))}}()}},[[23,1,2]]]);
//# sourceMappingURL=main.7572d6c3.chunk.js.map